{% extends 'base.html.twig' %}

{% block title %}
    <title> {{ 'user.add.title'|trans }} - TaskLinker </title>
{% endblock %}

{% block body %}
    <!DOCTYPE html>
    <html lang="fr">
    <body>
    <div id="main-container">
        {{ include('partials/nav.html.twig') }}
        <main>
            <header>
                {% if app.user %}
                    {{ include('partials/userInitialsBadge.html.twig') }}
                {% endif %}
                <div id="title-page">
                    <h1>{{ 'user.add.title'|trans }}</h1>
                </div>
            </header>
            <div id="content">
                {{ form_start(form) }}
                <form name="user" method="post">
                    <div>
                        {{ form_label(form.lastname, 'user.add.lastname_label'|trans) }}
                        {{ form_widget(form.lastname) }}
                        <div class="form-error-message">
                            {{ form_errors(form.lastname) }}
                        </div>
                    </div>
                    <div>
                        {{ form_label(form.firstname, 'user.add.firstname_label'|trans) }}
                        {{ form_widget(form.firstname) }}
                        <div class="form-error-message">
                            {{ form_errors(form.firstname) }}
                        </div>
                    </div>
                    <div>
                        {{ form_label(form.email, 'user.add.email_label'|trans) }}
                        {{ form_widget(form.email) }}
                        <div class="form-error-message">
                            {{ form_errors(form.email) }}
                        </div>
                    </div>
                    <div>
                        {{ form_label(form.password.first, 'user.add.password_label'|trans) }}
                        {{ form_widget(form.password.first) }}
                        <div class="form-error-message">
                            {{ form_errors(form.password.first) }}
                        </div>
                    </div>
                    <div>
                        {{ form_label(form.password.second, 'user.add.confirm_password_label'|trans) }}
                        {{ form_widget(form.password.second) }}
                        <div class="form-error-message">
                            {{ form_errors(form.password.second) }}
                        </div>
                    </div>
                    <div>
                        {{ form_label(form.active, 'user.add.active_label'|trans) }}
                        {{ form_widget(form.active) }}
                        <div class="form-error-message">
                            {{ form_errors(form.active) }}
                        </div>
                    </div>
                    <div>
                        {{ form_label(form.roles, 'user.add.role_label'|trans) }}
                        {{ form_widget(form.roles) }}
                        <div class="form-error-message">
                            {{ form_errors(form.roles) }}
                        </div>
                    </div>
                    <div class="form-flex">
                        <div>
                            {{ form_label(form.arrivalAt, 'user.add.arrival_date_label'|trans) }}
                            {{ form_widget(form.arrivalAt) }}
                            <div class="form-error-message">
                                {{ form_errors(form.arrivalAt) }}
                            </div>
                        </div>
                        <div>
                            {{ form_label(form.contractType, 'user.add.contract_type_label'|trans) }}
                            {{ form_widget(form.contractType) }}
                            <div class="form-error-message">
                                {{ form_errors(form.contractType) }}
                            </div>
                        </div>
                    </div>
                    <div>
                        {{ form_label(form.useTwoFactorAuth, 'user.add.two_factor_auth_label'|trans) }}
                        {{ form_widget(form.useTwoFactorAuth) }}
                        <div class="form-error-message">
                            {{ form_errors(form.useTwoFactorAuth) }}
                        </div>
                    </div>
                    <button class="button button-submit">{{ 'user.add.save_button'|trans }}</button>
                </form>
                {{ form_end(form) }}
                {% for label, messages in app.flashes %}
                    <div class="alert alert-{{ label }}">
                        {% for message in messages %}
                            <p>{{ message }}</p>
                        {% endfor %}
                    </div>
                {% endfor %}
            </div>
        </main>
    </div>
    </body>
    </html>
{% endblock %}
